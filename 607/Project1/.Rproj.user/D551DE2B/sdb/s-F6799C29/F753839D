{
    "collab_server" : "",
    "contents" : "---\n  title: \"Week3_Project1_Chess\"\nauthor: \"Shyam BV\"\ndate: \"September 17, 2016\"\noutput: html_document\n---\n  \n  ```{r libary-load}\nlibrary(stringr)\n\n```\n\n\n```{r load-data,eval=TRUE}\nchess_data <- read.table(\"C:/CUNY/Courses/CUNY-repository/607/Project1/Data/tournamentinfo.txt\",header=FALSE,sep = \"\\t\",stringsAsFactors = FALSE)\n\n\ncombined_data <- paste (chess_data[seq(5,196,3),], chess_data[seq(6,196,3),1],sep = \"\")\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\n\ncombined_vector <- str_extract_all(combined_data,\"[A-Za-z0-9]+|[A-Za-z0-9]+\")\n\ncombined_vector <- str_extract_all(combined_data,\"[A-Za-z0-9]+|[A-Za-z0-9]+\")\n\n\nstrposition <- str_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\nunlist(str_extract_all(combined_data,\"[A-Za-z0-9]+|[A-Za-z0-9]+\"))\n\n#test <- str_extract_all(combined_data[1:3],\"[A-Za-z0-9]+|[A-Za-z0-9]+\")\n\n#str(combined_vector)\n#NROW(combined_vector)\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\ndatalist <- list()\n\nfor(number in 1:NROW(combined_vector)) {\n  #list[number] <-  test[[number]][2]\n  \n  finaldf <- data.frame(paste(combined_vector[[number]][2], combined_vector[[number]][3]),paste(combined_vector[[number]][4], combined_vector[[number]][5],sep=\".\"),combined_vector[[number]][20],combined_vector[[number]][23],0) \n  datalist[[number]] <- finaldf\n}\n\ndf <- do.call(rbind.data.frame, datalist)\n\n\nsetNames(df,c(\"Name\",\"State\",\"Points\",\"Previous Score\",\"Average\"))\n\n\n```\n\n\n\n\n```{r expression, eval=TRUE}\n\n\ntest <- paste (chess_data[seq(5,196,3),], chess_data[seq(6,196,3),1],sep = \"\")\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\nstr_extract_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"(\\\\s+)?[A-Za-z0-9]+|\\\\r.+\")\n\n\n\nstr_extract_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\| [:alpha:]+(\\\\s+)\\\\|\")\n\nsubstr(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\", 9,40)\n\n\nstr_trim((substr(combined_data, 9,40)),\"both\")\n\nstr_count(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\nstrposition <- str_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\nfor(i to 1:20) {\n  \n  \n}\n\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\n\n\n\n\nonestring <- str_replace_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"(\\\\s)+|(\\\\s)+\",\" \")\n\n\n\nstr_trim(onestring,side=c(\"both\"))\n\n\n\nstr_extract_all(\"<HTML>h</HTML>\", \"<(.+?)>.+?<\\\\r>\")\n\nunlist(str_extract_all(test,\"[A-Za-z0-9]+|[A-Za-z0-9]+\"))\n\n\n```\n\n\n2\n\n\n\n\nfor(number in NROW(NROW(combined_vector))) {\n  #list[number] <-  test[[number]][2]\n  \n  finaldf <- data.frame(paste(test[[number]][2], test[[number]][3]),paste(test[[number]][4], test[[number]][5],sep=\".\"),test[[number]][20],test[[number]][23],0) \n  datalist[[number]] <- finaldf\n}\n\n\n\n\n\n```{r load-data,eval=TRUE}\nchess_data <- read.table(\"C:/CUNY/Courses/CUNY-repository/607/Project1/Data/tournamentinfo.txt\",header=FALSE,sep = \"\\t\",stringsAsFactors = FALSE)\n\n\ncombined_data <- paste (chess_data[seq(5,196,3),], chess_data[seq(6,196,3),1],sep = \"\")\n\n\ndatalist <- list()\n\nfor(number in 1:NROW(combined_data)) {\n  #list[number] <-  test[[number]][2]\n  \n  finaldf <- data.frame(Name = str_trim(substr(combined_data[number],9,40),\"both\"), State = str_trim(substr(combined_data[number],90,95),\"both\"), Points =str_trim(substr(combined_data[number],42,46),\"both\"), Previous_Score = str_trim(substr(combined_data[number],111,115),\"both\"),Average = 0)\n  \n  avg_players <- data.frame(Name = str_trim(substr(combined_data[number],9,40),\"both\"),\n                            Compatitors = str_trim(substr(combined_data[number],9,40),\"both\"))\n  \n  datalist[[number]] <- finaldf\n}\n\n\ndf <- do.call(rbind.data.frame, datalist)\n\nstr_location <- str_locate_all(combined_data,\"\\\\|\")\n\n#New version with all columns\n\ndatalist <- list()\n\ndatalist[[i]] <- NaN*seq(j)\n\nfor(i in 1:NROW(combined_data)) {\n  #list[number] <-  test[[number]][2]\n  for(j in 1:20) {\n    finaldf <- rbind.data.frame(str_trim(substr(combined_data[i],str_location[[i]][j] ,str_location[[i]][j+1]),\"both\"))\n    \n    datalist[[i]][j] <- finaldf\n  }\n}\n\ncsvdf <- do.call(rbind.data.frame, datalist)\n\ncsvdf <- setNames(csvdf,c(1:20))\n\n#End of new version\n\n\n#New df without |\n\nwithout_symbols <- sapply(csvdf,function(x){\n  x <- str_replace(x,\"\\\\|\\\\s?\", \"\")\n  x <- str_replace(x,\"\\\\s+?\\\\|\", \"\")\n  x <- str_replace(x,\"\\\\|\", \"\")\n  x <- str_trim(x,\"both\")\n  return(x)\n})\n\n\nwithout_symbols_df <- data.frame(without_symbols)\n\navg_df <- data.frame(without_symbols_df$X1,without_symbols_df$X2,str_extract(without_symbols_df$X3,\"\\\\d+\"),str_extract(without_symbols_df$X4,\"\\\\d+\"),str_extract(without_symbols_df$X5,\"\\\\d+\"),str_extract(without_symbols_df$X6,\"\\\\d+\"),str_extract(without_symbols_df$X7,\"\\\\d+\"),str_extract(without_symbols_df$X8,\"\\\\d+\"),str_extract(without_symbols_df$X9,\"\\\\d+\"),str_replace_all(trimws(substr(without_symbols_df$X11,15,19)),\"P\",\"\"),0)\n\navg_df <- setNames(avg_df,c(\"Player\",\"Points\",\"Play1\",\"Play2\",\"Play3\",\"Play4\",\"Play5\",\"Play6\",\"Play7\",\"Previous_points\",\"Sum\"))\n\navg_df$Sum  <- 0\n\nfor(l in 1:64){\n  for(k in 3:9) {\n    avg_df$Sum[l] <- avg_df$Sum[l]  + as.numeric(as.character(avg_df[l,k]))\n    print(paste(avg_df[l,k]))\n  }\n}\n\n\n\n\n\nsum(c(39,21,18,14,7,12,4))\n\n\n\n\nstr_location <- str_locate_all(combined_data,\"\\\\|\")\n\n\ncombined_data,strposition[1]\n\nstr_locate(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\ndf <- do.call(rbind.data.frame, datalist)\n\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\nstrposition <- str_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\n\nfor(i in 1:NROW(combined_data)) {\n  \n  strposition[[i]] <- str_locate_all(combined_data[i],\"\\\\|\")\n  \n  \n}\n\nstrposition <- str_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\n\nstr(strposition)[[1]][1]\n\nas.numeric(strposition[[1]][1])\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\nunlist(str_extract_all(combined_data,\"[A-Za-z0-9]+|[A-Za-z0-9]+\"))\n\n#test <- str_extract_all(combined_data[1:3],\"[A-Za-z0-9]+|[A-Za-z0-9]+\")\n\n#str(combined_vector)\n#NROW(combined_vector)\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\ndatalist <- list()\n\nfor(number in 1:NROW(combined_data)) {\n  #list[number] <-  test[[number]][2]\n  \n  finaldf <- data.frame(Name = str_trim(substr(combined_data[number],9,40),\"both\"), State = str_trim(substr(combined_data[number],90,95),\"both\"), Points =str_trim(substr(combined_data[number],42,46),\"both\"), Previous_Score = str_trim(substr(combined_data[number],111,115),\"both\"),Average = 0) \n  datalist[[number]] <- finaldf\n}\n\n\nstr_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\ndo.call(str_locate(combined_data,\"|\"),combined_data)\n\nsetNames(df,c(\"Name\",\"State\",\"Points\",\"Previous Score\",\"Average\"))\n\n\nsubstr(9,strposition[[1]][2])\n\nfor(number in 1:NROW(combined_vector)) {\n  #list[number] <-  test[[number]][2]\n  \n  finaldf <- data.frame(paste(combined_vector[[number]][2], combined_vector[[number]][3]),paste(combined_vector[[number]][4], combined_vector[[number]][5],sep=\".\"),combined_vector[[number]][20],combined_vector[[number]][23],0) \n  datalist[[number]] <- finaldf\n}\n\n\n\n\n\n\ndf <- do.call(rbind.data.frame, datalist)\n\n\nsetNames(df,c(\"Name\",\"State\",\"Points\",\"Previous Score\",\"Average\"))\n\n\n```\n\n\n\n\n```{r expression, eval=TRUE}\n\n\ntest <- paste (chess_data[seq(5,196,3),], chess_data[seq(6,196,3),1],sep = \"\")\n\n#Gary Hua, ON, 6.0, 1794, 1605\n\nstr_extract_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"(\\\\s+)?[A-Za-z0-9]+|\\\\r.+\")\n\n\n\nstr_extract_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\| [:alpha:]+(\\\\s+)\\\\|\")\n\nsubstr(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\", 9,40)\n\n\nstr_trim((substr(combined_data, 9,40)),\"both\")\n\nstr_count(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\nstrposition <- str_locate_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"\\\\|\")\n\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\n\n\nstr_trim(str_replace_all((substr(combined_data,strposition[[1]][1],strposition[[1]][2])),\"\\\\|\",\"\"),\"both\")\n\n\n\n\n\nonestring <- str_replace_all(\"   63 | THOMAS JOSEPH HOSMER            |1.0  |L   2|L  48|D  49|L  43|L  45|H    |U    |   MI | 15057092 / R: 1175   ->1125     |     |W    |B    |W    |B    |B    |     |     |\",\"(\\\\s)+|(\\\\s)+\",\" \")\n\n\n\nstr_trim(onestring,side=c(\"both\"))\n\n\n\nstr_extract_all(\"<HTML>h</HTML>\", \"<(.+?)>.+?<\\\\r>\")\n\nunlist(str_extract_all(test,\"[A-Za-z0-9]+|[A-Za-z0-9]+\"))\n\n\n```",
    "created" : 1474200492874.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "4207093142",
    "id" : "F753839D",
    "lastKnownWriteTime" : 7881714311853383738,
    "last_content_update" : 1474327938684,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}